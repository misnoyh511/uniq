
<div class="dashboard-container">

  <div class="dashboard-inner-container">
    <div class="dashboard-getting-stared-wrapper">
      <app-sub-nav [navType]="'topMessageOut'"></app-sub-nav>
      <h1>Top Message Out</h1>
      <p></p>
      <div class="getting-started-wrap-wrapper">
        <div class="slide-top-btns">
          <div class="row">
            <div class="col-sm-8">
            </div>
          </div>
        </div>
        <div class="step-inner-wrapper analytics-inner-sections">
          <div class="step-inner-title analytics-inner-titles">
            <h3>Top Messages
              <sup><i (mouseover)="showTooltip= true" (mouseout)="showTooltip= false" class="fa fa-question-circle" aria-hidden="true"></i></sup>
              <div class="analytics-tool-tip" [class.show]="showTooltip">
                <p>Lorem ipsum dummy text sit amet. Lorem is a placeholde text due to lack of the original content.</p>
                <ul>
                  <li>Lorem ipusm is just a dummy text.</li>
                  <li>Contrar sit amet lorem ipsum.</li>
                </ul>
              </div>
            </h3>
          </div>

          <div class="analytics-inner-wrap">
            <h4>Top Message Out</h4>
            <table class="table table-bordered table-striped">
              <thead>
              <tr>
                <th>Top 10 Messages Out</th>
                <th>Percentage</th>
                <th>Count</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let msg of topMessagesOut; let i = index;">
                <td *ngIf="i<10" class="w-40" matTooltip={{msg.text}}>
                  {{msg.text.length > 150 ? msg.text.substring(0, 150)+ '...' : msg.text}}
                </td>
                <td *ngIf="i<10">
                  <div class="messages-percentage-bar">
                    <div  ngClass={{colorClass[i%5]}} [style.width.%]="((msg.count/totalCount)* 100).toFixed(2)"></div>
                  </div>
                  <span>{{((msg.count/totalCount)* 100).toFixed(2)}}%</span>
                </td>
                <td *ngIf="i<10">{{msg.count}}</td>
              </tr>
              </tbody>
            </table>
            <h4 style="margin-top: 20px">Messages</h4>
            <table class="table table-bordered table-striped">
              <thead>
              <tr>
                <th>Message</th>
                <th>Message Count</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let msg of topMessagesOut">
                <td matTooltip={{msg.text}}>{{msg.text.length > 150 ? msg.text.substring(0, 150)+ '...' : msg.text}}</td>
                <td>{{msg.count}}</td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
